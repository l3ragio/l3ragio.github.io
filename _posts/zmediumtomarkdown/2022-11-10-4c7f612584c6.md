---
title: "Diffie-Hellman Key Exchange"
author: "Davide Bragetti"
date: 2022-11-10T00:44:27.384+0000
last_modified_at: 2023-07-22T15:07:29.547+0000
categories: [""]
tags: ["cryptography","symmetric-encryption","asymmetric-encryption","diffie-hellman","colors"]
description: "in color"
image:
  path: /assets/4c7f612584c6/1*ml4j-1W8GnqFbxYmzxe44g.png
render_with_liquid: false
---

### Diffie\-Hellman Key Exchange in Color

Key Exchange algorithms **help in establishing a _private channel_ over a _public channel\._**

In this post we are going to see a simple yet effective explaination of the Diffie\-Hellman Key Exchange \(DHKE\) protocol using colors\.
#### Symmetric Key encryption

Two parties \(e\.g\., a Client and a Server\) that **know a shared _secret_ can build a _private communication channel_** thanks to symmetric cryptography\.


![sharing a secret is sufficient for exchanging messages as in a private channel](/assets/4c7f612584c6/1*8PjOuTrN9JDFQZZrJUXCEw.png)

sharing a secret is sufficient for exchanging messages as in a private channel

In 1976, Whitfield Diffie and Martin Hellman devised a great trick **to exchange _secrets_ over a public channel,** this method is also known as a Key Exchange algorithm

To sketch the idea, we are going to use a famous analogy with colors\.
#### **Preliminary concept**

Think of mixing colors as a “ **one\-way** ” process:
- it is easy to mix them
- but hard to separate in the exact original colors


\(the symbol “\+” is a placeholder for the mixing operator\)


![The one\-wayness of mixing colors](/assets/4c7f612584c6/1*pTvGIwLHLGTuDLDg749yfw.png)

The one\-wayness of mixing colors

How could Client and Server exploit this to agree on a secret color hiding from a Man in The Middle \(MiTM\) that is eavesdropping on the public channel?
- First Client and Server agree on a public color, 
let’s say YELLOW\.
\(to agree to yellow, it’s sufficient that one sends the other, as in the symmetric key example also the MiTM obtains it\)



![](/assets/4c7f612584c6/1*SOp8UhUVfX9gmcdvB19o1A.png)


In the next rounds, Client and Server generate their **secret** colors, say RED for the Client and BLUE for the Server,


![](/assets/4c7f612584c6/1*fsVRWJkTQR2Fh25kwirUTA.png)


then the parties mix their private color with the public color YELLOW respectively, and send the resulting color to the other:


![The parties mix their private color with the public one and exchange the result](/assets/4c7f612584c6/1*mu9hrr5aB_3vIu4oik18GQ.png)

The parties mix their private color with the public one and exchange the result
- The Client sends ORANGE
- The Server sends GREEN
- Both these colors are now known also to the MiTM, which should not be able to obtain the respective secret colors \(thanks to the one\-wayness of mixing\)


Now Client and Server mix **the color they received from the other** party to their **secret one** , obtaining the same shared color \(BROWN\), unknown by the MiTM\.

So they can use it as a symmetric session\-key for exchanging messages thanks to symmetric cryptography\.


![](/assets/4c7f612584c6/1*ml4j-1W8GnqFbxYmzxe44g.png)


In a following post we will look at the math behind it\.
### Conclusions

DHKE is a usefull tool for generating secrets between authenticated entities, but it is susceptible to impersonation attacks in case the communication link is unauthenticated\.
### References


[![Public key cryptography - Diffie-Hellman Key Exchange (full version)](/assets/4c7f612584c6/fcc0_hqdefault.jpg "Public key cryptography - Diffie-Hellman Key Exchange (full version)")](https://www.youtube.com/watch?v=YEBfamv-_do){:target="_blank"}




_[Post](https://medium.com/@dbragetti/diffie-hellman-key-exchange-4c7f612584c6){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
